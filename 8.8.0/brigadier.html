<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js rust">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Brigadier + CommandAPI - CommandAPI Documentation v8.8.0</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="fontawesome/css/fontawesome.css">
        <link rel="stylesheet" href="fontawesome/css/brands.css">
        <link rel="stylesheet" href="fontawesome/css/solid.css">
        <link rel="stylesheet" href="fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="style.css">
        <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "rust";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('rust')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="intro.html">Introduction</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Server Owner Usage</li><li class="chapter-item expanded "><a href="installation.html">Installation for server owners</a></li><li class="chapter-item expanded "><a href="config.html">Configuration for server owners</a></li><li class="chapter-item expanded "><a href="conversionforowners.html">Command conversion</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="conversionforownerssingle.html">Single command conversion</a></li><li class="chapter-item expanded "><a href="conversionforownerssingleargs.html">Single command conversion (with arguments)</a></li><li class="chapter-item expanded "><a href="conversionentityselectors.html">Entity selectors</a></li></ol></li><li class="chapter-item expanded "><a href="skippingproxysenders.html">Skipping proxy senders</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">CommandAPI Setup</li><li class="chapter-item expanded "><a href="quickstart.html">Setting up your development environment</a></li><li class="chapter-item expanded "><a href="shading.html">Shading the CommandAPI in your plugins</a></li><li class="chapter-item expanded "><a href="annotationsetup.html">Using the annotation system</a></li><li class="chapter-item expanded affix "><li class="part-title">Creating Commands</li><li class="chapter-item expanded "><a href="commandregistration.html">Command registration</a></li><li class="chapter-item expanded "><a href="commandexecutors.html">Command executors</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="normalexecutors.html">Normal command executors</a></li><li class="chapter-item expanded "><a href="proxysender.html">Proxied commandsenders</a></li><li class="chapter-item expanded "><a href="native.html">Native commandsenders</a></li><li class="chapter-item expanded "><a href="resultingcommandexecutors.html">Resulting command executors</a></li><li class="chapter-item expanded "><a href="commandfailures.html">Handling command failures</a></li></ol></li><li class="chapter-item expanded "><a href="arguments.html">Command arguments</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="listed.html">Listed arguments</a></li><li class="chapter-item expanded "><a href="argumentsuggestions.html">Argument suggestions</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="suggestionsinfo.html">The SuggestionsInfo record</a></li><li class="chapter-item "><a href="stringargumentsuggestions.html">String argument suggestions</a></li><li class="chapter-item "><a href="safeargumentsuggestions.html">Safely typed argument suggestions</a></li><li class="chapter-item "><a href="tooltips.html">Argument suggestions with tooltips</a></li><li class="chapter-item "><a href="asyncsuggestions.html">Asynchronous suggestions</a></li></ol></li><li class="chapter-item expanded "><a href="argumenttypes.html">Argument types</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="primitivearguments.html">Primitive arguments</a></li><li class="chapter-item "><a href="rangedarguments.html">Ranged arguments</a></li><li class="chapter-item "><a href="stringarguments.html">String arguments</a></li><li class="chapter-item "><a href="positionargs.html">Positional arguments</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="locationargument.html">Location arguments</a></li><li class="chapter-item "><a href="rotationargs.html">Rotation arguments</a></li><li class="chapter-item "><a href="axisarg.html">AxisArguments</a></li></ol></li><li class="chapter-item "><a href="chatarguments.html">Chat arguments</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="spigotchatarguments.html">Spigot chat arguments</a></li><li class="chapter-item "><a href="adventurechatarguments.html">Adventure chat arguments</a></li><li class="chapter-item "><a href="chatpreview.html">Chat preview</a></li></ol></li><li class="chapter-item "><a href="entityarguments.html">Entity & player arguments</a></li><li class="chapter-item "><a href="scoreboardargs.html">Scoreboard arguments</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="scoreboardarguments.html">Scoreboard arguments</a></li><li class="chapter-item "><a href="objectivearguments.html">Objective arguments</a></li><li class="chapter-item "><a href="teamarguments.html">Team arguments</a></li></ol></li><li class="chapter-item "><a href="miscargs.html">Miscellaneous arguments</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="angleargument.html">Angle arguments</a></li><li class="chapter-item "><a href="advancementargument.html">Advancement arguments</a></li><li class="chapter-item "><a href="biomeargument.html">Biome arguments</a></li><li class="chapter-item "><a href="blockstatearguments.html">BlockState arguments</a></li><li class="chapter-item "><a href="enchantmentargument.html">Enchantment arguments</a></li><li class="chapter-item "><a href="environmentargs.html">Environment arguments</a></li><li class="chapter-item "><a href="itemstackarguments.html">Itemstack arguments</a></li><li class="chapter-item "><a href="loottableargument.html">LootTable argument</a></li><li class="chapter-item "><a href="mathoperationarguments.html">MathOperation arguments</a></li><li class="chapter-item "><a href="namespacedkeyarg.html">NamespacedKey arguments</a></li><li class="chapter-item "><a href="particlearguments.html">Particle arguments</a></li><li class="chapter-item "><a href="potionarguments.html">Potion effect arguments</a></li><li class="chapter-item "><a href="recipeargument.html">Recipe arguments</a></li><li class="chapter-item "><a href="soundargument.html">Sound arguments</a></li><li class="chapter-item "><a href="timeargs.html">Time arguments</a></li><li class="chapter-item "><a href="uuidargs.html">UUID arguments</a></li><li class="chapter-item "><a href="worldarguments.html">World arguments</a></li></ol></li><li class="chapter-item "><a href="predicateargs.html">Predicate arguments</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="blockpredicateargs.html">Block predicate arguments</a></li><li class="chapter-item "><a href="itemstackpredicateargs.html">ItemStack predicate arguments</a></li></ol></li><li class="chapter-item "><a href="nbtarguments.html">NBT arguments</a></li><li class="chapter-item "><a href="litargs.html">Literal arguments</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="literalarguments.html">Literal arguments</a></li><li class="chapter-item "><a href="multilitargs.html">Multi literal arguments</a></li></ol></li><li class="chapter-item "><a href="listarguments.html">List arguments</a></li><li class="chapter-item "><a href="commandarguments.html">Command arguments</a></li><li class="chapter-item "><a href="customarguments.html">Custom arguments</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="functions.html">Functions & Tags</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="functionsetup.html">Setting up functions & tags</a></li><li class="chapter-item expanded "><a href="simplefunctionwrapper.html">The SimpleFunctionWrapper class</a></li><li class="chapter-item expanded "><a href="functionwrapper.html">The FunctionWrapper class</a></li><li class="chapter-item expanded "><a href="functionarguments.html">Function arguments</a></li></ol></li><li class="chapter-item expanded "><a href="permissions.html">Permissions</a></li><li class="chapter-item expanded "><a href="requirements.html">Requirements</a></li><li class="chapter-item expanded "><a href="aliases.html">Aliases</a></li><li class="chapter-item expanded "><a href="help.html">Help</a></li><li class="chapter-item expanded "><a href="subcommands.html">Subcommands</a></li><li class="chapter-item expanded "><a href="commandtrees.html">Command trees</a></li><li class="chapter-item expanded affix "><li class="part-title">Annotation-based Commands</li><li class="chapter-item expanded "><a href="annotationsintro.html">Annotation-based commands</a></li><li class="chapter-item expanded "><a href="annotations.html">Annotations</a></li><li class="chapter-item expanded "><a href="registeringannotations.html">Registering annotation-based commands</a></li><li class="chapter-item expanded affix "><li class="part-title">Kotlin-based Commands</li><li class="chapter-item expanded "><a href="kotlinintro.html">Kotlin-based commands</a></li><li class="chapter-item expanded "><a href="kotlindsl.html">Using the DSL</a></li><li class="chapter-item expanded affix "><li class="part-title">CommandAPI Utilities</li><li class="chapter-item expanded "><a href="conversion.html">Command conversion</a></li><li class="chapter-item expanded "><a href="reloading.html">Plugin reloading</a></li><li class="chapter-item expanded affix "><li class="part-title">Internal CommandAPI</li><li class="chapter-item expanded "><a href="internal.html">Internal CommandAPI</a></li><li class="chapter-item expanded "><a href="brigadier.html" class="active">Brigadier + CommandAPI</a></li><li class="chapter-item expanded "><a href="brigadiersuggestions.html">Brigadier Suggestions</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Java Tips</li><li class="chapter-item expanded "><a href="predicatetips.html">Predicate tips</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">CommandAPI Contribution</li><li class="chapter-item expanded "><a href="contributionintro.html">Introduction</a></li><li class="chapter-item expanded "><a href="projectstructure.html">Project Structure</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><a href="upgrading.html">Upgrading guide</a></li><li class="chapter-item expanded affix "><a href="faq.html">FAQ</a></li><li class="chapter-item expanded affix "><a href="incompatibleversions.html">Incompatible version information</a></li><li class="chapter-item expanded affix "><a href="troubleshooting.html">Troubleshooting</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><a href="afterword.html">Afterword</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fas fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fas fa-palette"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="skepter">Skepter Likes Purple</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">CommandAPI Documentation v8.8.0</h1>

                    <div class="right-buttons">
                        <a href="https://www.jorel.dev/CommandAPI/" title="Back to main CommandAPI page" aria-label="Back to main CommandAPI page">
                            <i id="home-button" class="fas fa-home"></i>
                        </a>
                        <a href="https://ko-fi.com/jorelali" title="Donate (ko-fi)" aria-label="Donate (ko-fi)">
                            <i id="donate-button" class="fas fa-donate"></i>
                        </a>
                        <a href="https://discord.com/invite/G4SzSxZ" title="Discord" aria-label="Discord">
                            <i id="discord-button" class="fab fa-discord"></i>
                        </a>
                        <a href="https://github.com/JorelAli/CommandAPI" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fab fa-github"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <!-- Page table of contents -->
                        <div class="sidetoc"><nav class="pagetoc"></nav></div>
                        
                        <h1 id="brigadier--commandapi"><a class="header" href="#brigadier--commandapi">Brigadier + CommandAPI</a></h1>
<p>So far, we've been using only the CommandAPI to register commands. As a result, this makes the CommandAPI's features limited by whatever the CommandAPI has implemented. To push past these limits, the CommandAPI includes some extra methods to help with invoking brigadier methods. Of course, to use these methods, brigadier is required. The brigadier dependency's installation instructions can be found <a href="https://github.com/Mojang/brigadier#installation">here</a>.</p>
<blockquote>
<p><strong>Developer's Note:</strong></p>
<p>For those that are unaware, <a href="https://github.com/Mojang/brigadier">brigadier</a> is Mojang's command parser and dispatching framework. This is what the CommandAPI wraps around and is the main underlying source of its functionality.</p>
</blockquote>
<p>The CommandAPI has been designed in such a way that you shouldn't have to access NMS in order to make use of the more &quot;advanced&quot; arguments and features - if you find that NMS is required to do something, <a href="https://github.com/JorelAli/CommandAPI/issues/new/choose">please make a new issue</a>!</p>
<hr />
<h2 id="brigadier-support-functions"><a class="header" href="#brigadier-support-functions">Brigadier support functions</a></h2>
<p>The CommandAPI offers the following methods in the <code>dev.jorel.commandapi.Brigadier</code> class:</p>
<pre><code class="language-java">public static CommandDispatcher getCommandDispatcher();
public static RootCommandNode getRootNode();
public static LiteralArgumentBuilder fromLiteralArgument(LiteralArgument literalArgument);
public static RedirectModifier fromPredicate(BiPredicate&lt;CommandSender, Object[]&gt; predicate, List&lt;Argument&gt; args);
public static Command fromCommand(CommandAPICommand command);
public static RequiredArgumentBuilder fromArgument(List&lt;Argument&gt; args, Argument&lt;?&gt; argument);
public static RequiredArgumentBuilder fromArgument(Argument argument);
public static SuggestionProvider toSuggestions(Argument&lt;?&gt; argument, List&lt;Argument&gt; args);
public static Object[] parseArguments(CommandContext cmdCtx, List&lt;Argument&gt; args);
public static Object getBrigadierSourceFromCommandSender(CommandSender sender);
public static CommandSender getBukkitCommandSenderFromContext(CommandContext cmdCtx);
</code></pre>
<p>Briefly, here's what each of these functions do (you can view the JavaDocs for more information):</p>
<div class="table-wrapper"><table><thead><tr><th>Method</th><th>Description</th></tr></thead><tbody>
<tr><td><code>getCommandDispatcher</code></td><td>Returns the Minecraft command dispatcher graph</td></tr>
<tr><td><code>getRootNode</code></td><td>Returns the root node of the command dispatcher.<br>This is equivalent to using<br /><code>getCommandDispatcher().getRoot();</code></td></tr>
<tr><td><code>fromLiteralArgument</code></td><td>Creates a <code>LiteralArgumentBuilder</code> from a <code>LiteralArgument</code></td></tr>
<tr><td><code>fromPredicate</code></td><td>Converts a predicate and some arguments into a <code>RedirectModifier</code>. This can be used for the <code>fork</code> method in brigadier's <code>ArgumentBuilder</code></td></tr>
<tr><td><code>fromCommand</code></td><td>Converts a <code>CommandAPICommand</code> into a brigadier <code>Command</code> object</td></tr>
<tr><td><code>fromArgument</code></td><td>Converts an argument, or a list of arguments, into a <code>RequiredArgumentBuilder</code></td></tr>
<tr><td><code>toSuggestions</code></td><td>Converts an argument's suggestions into brigadier's <code>SuggestionProvider</code>, with a list of previously declared arguments</td></tr>
<tr><td><code>parseArguments</code></td><td>Parses a list of CommandAPI arguments into their respective objects for a provided <code>CommandContext</code></td></tr>
<tr><td><code>getBrigadierSourceFromCommandSender</code></td><td>Converts a Bukkit <code>CommandSender</code> into the NMS command sender source object</td></tr>
<tr><td><code>getBukkitCommandSenderFromContext</code></td><td>Converts a Brigadier <code>CommandContext</code> into a Bukkit <code>CommandSender</code></td></tr>
</tbody></table>
</div>
<hr />
<h2 id="examples"><a class="header" href="#examples">Examples</a></h2>
<p>I hope these examples help understand how the CommandAPI can help with registering more &quot;powerful&quot; commands with the use of brigadier as well! Please bear with with it - these examples can be long, but I'm certain that they've been explained well and will be useful!</p>
<div class="example">
<h3 id="example---adding-a-predicate-to-the-execute-command"><a class="header" href="#example---adding-a-predicate-to-the-execute-command">Example - Adding a predicate to the 'execute' command</a></h3>
<p>Say we wanted to add a predicate to the <code>/execute</code> command. In this example, we'll create a predicate which handles random chances. To illustrate this, we want to be able to run commands such as:</p>
<pre><code class="language-mccmd">/execute if randomchance 1 4 run say Hello!
</code></pre>
<p>In this scenario, if we ran this command, we would expect &quot;Hello!&quot; to appear in the chat with a \(\frac{1}{4}\) chance. In particular, this is what we're trying to achieve:</p>
<ul>
<li>
<p>We want to create a predicate (true/false value) for the following syntax:</p>
<pre><code class="language-mccmd">randomchance &lt;numerator&gt; &lt;denominator&gt;
</code></pre>
</li>
<li>
<p>We also want this predicate to come <em>after</em> <code>execute if</code>:</p>
<p>\[
\texttt{execute}\\
\downarrow\\
\texttt{if}\\
\downarrow\\
\texttt{randomchance &lt;numerator}\texttt{&gt; &lt;denominator}\texttt{&gt;}
\]</p>
</li>
<li>
<p>After entering our predicate, we want to route back to <code>execute</code> (because the argument after <code>execute</code> is <code>run</code>, which is used in our example command above):</p>
<p>\[
\texttt{execute}\\
\downarrow\\
\texttt{if}\\
\downarrow\\
\texttt{randomchance &lt;numerator}\texttt{&gt; &lt;denominator}\texttt{&gt;}\\
\downarrow\\
\texttt{execute}
\]</p>
</li>
</ul>
<hr />
<h4 id="writing-the-code"><a class="header" href="#writing-the-code">Writing the code</a></h4>
<p>Now that we've established what we want, we can finally begin writing the code! First we want to create a literal <code>randomchance</code>. It's a literal because literal values don't change (similar to say <code>run</code> or <code>if</code> from the <code>/execute</code> command). To create a literal, we'll use the <code>fromLiteralArgument</code> method described above, and then build it using the <code>.build()</code> method:</p>
<div class="multi-pre">
<pre><code class="language-java Java">// Register literal &quot;randomchance&quot;
LiteralCommandNode randomChance = Brigadier.fromLiteralArgument(new LiteralArgument(&quot;randomchance&quot;)).build();
</code></pre>
<pre><code class="language-kotlin Kotlin">// Register literal &quot;randomchance&quot;
val randomChance: LiteralCommandNode&lt;Any&gt; = Brigadier.fromLiteralArgument(LiteralArgument(&quot;randomchance&quot;)).build()
</code></pre>
</div>
<p>With that completed, we can now create our &quot;argument&quot; to this predicate. To do this, we'll use the regular declaration of arguments that we would normally use for commands. In this example, because we're computing \(\frac{numerator}{denominator}\), we want our numerator to be 0 or greater and our denominator to be 1 or greater (we don't want any negative numbers or division by zero!):</p>
<div class="multi-pre">
<pre><code class="language-java Java">// Declare arguments like normal
Argument&lt;Integer&gt; numeratorArgument = new IntegerArgument(&quot;numerator&quot;, 0);
Argument&lt;Integer&gt; denominatorArgument = new IntegerArgument(&quot;denominator&quot;, 1);

List&lt;Argument&gt; arguments = new ArrayList&lt;&gt;();
arguments.add(numeratorArgument);
arguments.add(denominatorArgument);
</code></pre>
<pre><code class="language-kotlin Kotlin">// Declare arguments like normal
val numeratorArgument = IntegerArgument(&quot;numerator&quot;, 0)
val denominatorArgument = IntegerArgument(&quot;denominator&quot;, 1)

val arguments = listOf&lt;Argument&lt;*&gt;&gt;(numeratorArgument, denominatorArgument)
</code></pre>
</div>
<p>Now we're going to get into the very nitty-gritty part - the predicate declaration. First, we'll create some variables <code>numerator</code> and <code>denominator</code> to represent the brigadier instances of these arguments. This can be handled by using the <code>Brigadier.argBuildOf</code> function:</p>
<div class="multi-pre">
<pre><code class="language-java Java">ArgumentBuilder numerator = Brigadier.fromArgument(numeratorArgument);
ArgumentBuilder denominator = Brigadier.fromArgument(denominatorArgument)
</code></pre>
<pre><code class="language-kotlin Kotlin">val numerator = Brigadier.fromArgument(numeratorArgument)
val denominator = Brigadier.fromArgument(denominatorArgument)
</code></pre>
</div>
<p>Now we'll define our predicate. Since this is sort of a &quot;meta-command&quot; (it directly affects the outcome of the <code>run</code> command), we need to use the <code>ArgumentBuilder</code>'s <code>fork</code> method. Remember that after we run this predicate, we want to link back to <code>execute</code> again, so our first argument is the <code>CommandNode</code> for <code>execute</code>, which we can get using <code>Brigadier.getRootNode().getChild(&quot;execute&quot;)</code>. Then, we can simply use <code>Brigadier.fromPredicate</code> to finish our declaration:</p>
<div class="multi-pre">
<pre><code class="language-java Java">ArgumentBuilder denominator = Brigadier.fromArgument(denominatorArgument)
    // Fork redirecting to &quot;execute&quot; and state our predicate
    .fork(Brigadier.getRootNode().getChild(&quot;execute&quot;), Brigadier.fromPredicate((sender, args) -&gt; {
        // Parse arguments like normal
        int num = (int) args[0];
        int denom = (int) args[1];
        
        // Return boolean with a num/denom chance
        return Math.ceil(Math.random() * (double) denom) &lt;= (double) num;
    }, arguments));
</code></pre>
<pre><code class="language-kotlin Kotlin">val denominator = Brigadier.fromArgument(denominatorArgument)
    // Fork redirecting to &quot;execute&quot; and state our predicate
    .fork(Brigadier.getRootNode().getChild(&quot;execute&quot;), Brigadier.fromPredicate( { _, args -&gt;
        // Parse arguments like normal
        val num = (args[0] as Int).toDouble()
        val denom = (args[1] as Int).toDouble()

        // Return boolean with a num/denom chance
        Math.ceil(Math.random() * denom) &lt;= num
    }, arguments))
</code></pre>
</div>
<p>Finally, we can now link everything up. We know that <code>numerator</code> comes first, <strong>then</strong> <code>denominator</code>, so we have to have <code>numerator.then(denominator)</code>. We also know that these arguments are the <strong>children</strong> of the <code>randomChance</code> literal, so we use the following code to state all of this:</p>
<div class="multi-pre">
<pre><code class="language-java Java">// Add &lt;numerator&gt; &lt;denominator&gt; as a child of randomchance
randomChance.addChild(numerator.then(denominator).build());
</code></pre>
<pre><code class="language-kotlin Kotlin">// Add &lt;numerator&gt; &lt;denominator&gt; as a child of randomchance
randomChance.addChild(numerator.then(denominator).build())
</code></pre>
</div>
<p>Finally, we &quot;register&quot; the command. In this case, we're actually just adding the <code>randomChance</code> node under \(\texttt{execute}\rightarrow\texttt{if}\), which we can add using the following code:</p>
<div class="multi-pre">
<pre><code class="language-java Java">// Add (randomchance &lt;numerator&gt; &lt;denominator&gt;) as a child of (execute -&gt; if)
Brigadier.getRootNode().getChild(&quot;execute&quot;).getChild(&quot;if&quot;).addChild(randomChance);
</code></pre>
<pre><code class="language-kotlin Kotlin">// Add (randomchance &lt;numerator&gt; &lt;denominator&gt;) as a child of (execute -&gt; if)
Brigadier.getRootNode().getChild(&quot;execute&quot;).getChild(&quot;if&quot;).addChild(randomChance)
</code></pre>
</div>
<hr />
<h4 id="code-summary"><a class="header" href="#code-summary">Code summary</a></h4>
<p>So, hopefully that wasn't too confusing! If you're still lost, here's the whole code that we wrote:</p>
<div class="multi-pre">
<pre><code class="language-java Java">// Register literal &quot;randomchance&quot;
LiteralCommandNode randomChance = Brigadier.fromLiteralArgument(new LiteralArgument(&quot;randomchance&quot;)).build();

// Declare arguments like normal
Argument&lt;Integer&gt; numeratorArgument = new IntegerArgument(&quot;numerator&quot;, 0);
Argument&lt;Integer&gt; denominatorArgument = new IntegerArgument(&quot;denominator&quot;, 1);

List&lt;Argument&gt; arguments = new ArrayList&lt;&gt;();
arguments.add(numeratorArgument);
arguments.add(denominatorArgument);

// Get brigadier argument objects
ArgumentBuilder numerator = Brigadier.fromArgument(numeratorArgument);
ArgumentBuilder denominator = Brigadier.fromArgument(denominatorArgument)
    // Fork redirecting to &quot;execute&quot; and state our predicate
    .fork(Brigadier.getRootNode().getChild(&quot;execute&quot;), Brigadier.fromPredicate((sender, args) -&gt; {
        // Parse arguments like normal
        int num = (int) args[0];
        int denom = (int) args[1];
        
        // Return boolean with a num/denom chance
        return Math.ceil(Math.random() * (double) denom) &lt;= (double) num;
    }, arguments));

// Add &lt;numerator&gt; &lt;denominator&gt; as a child of randomchance
randomChance.addChild(numerator.then(denominator).build());

// Add (randomchance &lt;numerator&gt; &lt;denominator&gt;) as a child of (execute -&gt; if)
Brigadier.getRootNode().getChild(&quot;execute&quot;).getChild(&quot;if&quot;).addChild(randomChance);
</code></pre>
<pre><code class="language-kotlin Kotlin">// Register literal &quot;randomchance&quot;
val randomChance: LiteralCommandNode&lt;Any&gt; = Brigadier.fromLiteralArgument(LiteralArgument(&quot;randomchance&quot;)).build()

// Declare arguments like normal
val numeratorArgument = IntegerArgument(&quot;numerator&quot;, 0)
val denominatorArgument = IntegerArgument(&quot;denominator&quot;, 1)

val arguments = listOf&lt;Argument&lt;*&gt;&gt;(numeratorArgument, denominatorArgument)

// Get brigadier argument objects
val numerator = Brigadier.fromArgument(numeratorArgument)
val denominator = Brigadier.fromArgument(denominatorArgument)
    // Fork redirecting to &quot;execute&quot; and state our predicate
    .fork(Brigadier.getRootNode().getChild(&quot;execute&quot;), Brigadier.fromPredicate( { _, args -&gt;
        // Parse arguments like normal
        val num = (args[0] as Int).toDouble()
        val denom = (args[1] as Int).toDouble()

        // Return boolean with a num/denom chance
        Math.ceil(Math.random() * denom) &lt;= num
    }, arguments))

// Add &lt;numerator&gt; &lt;denominator&gt; as a child of randomchance
randomChance.addChild(numerator.then(denominator).build())

// Add (randomchance &lt;numerator&gt; &lt;denominator&gt;) as a child of (execute -&gt; if)
Brigadier.getRootNode().getChild(&quot;execute&quot;).getChild(&quot;if&quot;).addChild(randomChance)
</code></pre>
</div>
</div>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="internal.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fas fa-chevron-left"></i>
                            </a>
                            <a rel="next" href="brigadiersuggestions.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fas fa-chevron-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="internal.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fas fa-chevron-left"></i>
                    </a>
                    <a rel="next" href="brigadiersuggestions.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fas fa-chevron-right"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript" src="sidebar.js"></script>
        <script type="text/javascript" src="mccmd.js"></script>
        <script type="text/javascript" src="kotlin-dsl.js"></script>
        <script type="text/javascript" src="jszip.min.js"></script>
        <script type="text/javascript" src="yaml.min.js"></script>
        <script type="text/javascript" src="pluginyml.js"></script>
    </body>
</html>
