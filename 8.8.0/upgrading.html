<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js rust">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Upgrading guide - CommandAPI Documentation v8.8.0</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="fontawesome/css/fontawesome.css">
        <link rel="stylesheet" href="fontawesome/css/brands.css">
        <link rel="stylesheet" href="fontawesome/css/solid.css">
        <link rel="stylesheet" href="fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="style.css">
        <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "rust";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('rust')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="intro.html">Introduction</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Server Owner Usage</li><li class="chapter-item expanded "><a href="installation.html">Installation for server owners</a></li><li class="chapter-item expanded "><a href="config.html">Configuration for server owners</a></li><li class="chapter-item expanded "><a href="conversionforowners.html">Command conversion</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="conversionforownerssingle.html">Single command conversion</a></li><li class="chapter-item expanded "><a href="conversionforownerssingleargs.html">Single command conversion (with arguments)</a></li><li class="chapter-item expanded "><a href="conversionentityselectors.html">Entity selectors</a></li></ol></li><li class="chapter-item expanded "><a href="skippingproxysenders.html">Skipping proxy senders</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">CommandAPI Setup</li><li class="chapter-item expanded "><a href="quickstart.html">Setting up your development environment</a></li><li class="chapter-item expanded "><a href="shading.html">Shading the CommandAPI in your plugins</a></li><li class="chapter-item expanded "><a href="annotationsetup.html">Using the annotation system</a></li><li class="chapter-item expanded affix "><li class="part-title">Creating Commands</li><li class="chapter-item expanded "><a href="commandregistration.html">Command registration</a></li><li class="chapter-item expanded "><a href="commandexecutors.html">Command executors</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="normalexecutors.html">Normal command executors</a></li><li class="chapter-item expanded "><a href="proxysender.html">Proxied commandsenders</a></li><li class="chapter-item expanded "><a href="native.html">Native commandsenders</a></li><li class="chapter-item expanded "><a href="resultingcommandexecutors.html">Resulting command executors</a></li><li class="chapter-item expanded "><a href="commandfailures.html">Handling command failures</a></li></ol></li><li class="chapter-item expanded "><a href="arguments.html">Command arguments</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="listed.html">Listed arguments</a></li><li class="chapter-item expanded "><a href="argumentsuggestions.html">Argument suggestions</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="suggestionsinfo.html">The SuggestionsInfo record</a></li><li class="chapter-item "><a href="stringargumentsuggestions.html">String argument suggestions</a></li><li class="chapter-item "><a href="safeargumentsuggestions.html">Safely typed argument suggestions</a></li><li class="chapter-item "><a href="tooltips.html">Argument suggestions with tooltips</a></li><li class="chapter-item "><a href="asyncsuggestions.html">Asynchronous suggestions</a></li></ol></li><li class="chapter-item expanded "><a href="argumenttypes.html">Argument types</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="primitivearguments.html">Primitive arguments</a></li><li class="chapter-item "><a href="rangedarguments.html">Ranged arguments</a></li><li class="chapter-item "><a href="stringarguments.html">String arguments</a></li><li class="chapter-item "><a href="positionargs.html">Positional arguments</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="locationargument.html">Location arguments</a></li><li class="chapter-item "><a href="rotationargs.html">Rotation arguments</a></li><li class="chapter-item "><a href="axisarg.html">AxisArguments</a></li></ol></li><li class="chapter-item "><a href="chatarguments.html">Chat arguments</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="spigotchatarguments.html">Spigot chat arguments</a></li><li class="chapter-item "><a href="adventurechatarguments.html">Adventure chat arguments</a></li><li class="chapter-item "><a href="chatpreview.html">Chat preview</a></li></ol></li><li class="chapter-item "><a href="entityarguments.html">Entity & player arguments</a></li><li class="chapter-item "><a href="scoreboardargs.html">Scoreboard arguments</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="scoreboardarguments.html">Scoreboard arguments</a></li><li class="chapter-item "><a href="objectivearguments.html">Objective arguments</a></li><li class="chapter-item "><a href="teamarguments.html">Team arguments</a></li></ol></li><li class="chapter-item "><a href="miscargs.html">Miscellaneous arguments</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="angleargument.html">Angle arguments</a></li><li class="chapter-item "><a href="advancementargument.html">Advancement arguments</a></li><li class="chapter-item "><a href="biomeargument.html">Biome arguments</a></li><li class="chapter-item "><a href="blockstatearguments.html">BlockState arguments</a></li><li class="chapter-item "><a href="enchantmentargument.html">Enchantment arguments</a></li><li class="chapter-item "><a href="environmentargs.html">Environment arguments</a></li><li class="chapter-item "><a href="itemstackarguments.html">Itemstack arguments</a></li><li class="chapter-item "><a href="loottableargument.html">LootTable argument</a></li><li class="chapter-item "><a href="mathoperationarguments.html">MathOperation arguments</a></li><li class="chapter-item "><a href="namespacedkeyarg.html">NamespacedKey arguments</a></li><li class="chapter-item "><a href="particlearguments.html">Particle arguments</a></li><li class="chapter-item "><a href="potionarguments.html">Potion effect arguments</a></li><li class="chapter-item "><a href="recipeargument.html">Recipe arguments</a></li><li class="chapter-item "><a href="soundargument.html">Sound arguments</a></li><li class="chapter-item "><a href="timeargs.html">Time arguments</a></li><li class="chapter-item "><a href="uuidargs.html">UUID arguments</a></li><li class="chapter-item "><a href="worldarguments.html">World arguments</a></li></ol></li><li class="chapter-item "><a href="predicateargs.html">Predicate arguments</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="blockpredicateargs.html">Block predicate arguments</a></li><li class="chapter-item "><a href="itemstackpredicateargs.html">ItemStack predicate arguments</a></li></ol></li><li class="chapter-item "><a href="nbtarguments.html">NBT arguments</a></li><li class="chapter-item "><a href="litargs.html">Literal arguments</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="literalarguments.html">Literal arguments</a></li><li class="chapter-item "><a href="multilitargs.html">Multi literal arguments</a></li></ol></li><li class="chapter-item "><a href="listarguments.html">List arguments</a></li><li class="chapter-item "><a href="commandarguments.html">Command arguments</a></li><li class="chapter-item "><a href="customarguments.html">Custom arguments</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="functions.html">Functions & Tags</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="functionsetup.html">Setting up functions & tags</a></li><li class="chapter-item expanded "><a href="simplefunctionwrapper.html">The SimpleFunctionWrapper class</a></li><li class="chapter-item expanded "><a href="functionwrapper.html">The FunctionWrapper class</a></li><li class="chapter-item expanded "><a href="functionarguments.html">Function arguments</a></li></ol></li><li class="chapter-item expanded "><a href="permissions.html">Permissions</a></li><li class="chapter-item expanded "><a href="requirements.html">Requirements</a></li><li class="chapter-item expanded "><a href="aliases.html">Aliases</a></li><li class="chapter-item expanded "><a href="help.html">Help</a></li><li class="chapter-item expanded "><a href="subcommands.html">Subcommands</a></li><li class="chapter-item expanded "><a href="commandtrees.html">Command trees</a></li><li class="chapter-item expanded affix "><li class="part-title">Annotation-based Commands</li><li class="chapter-item expanded "><a href="annotationsintro.html">Annotation-based commands</a></li><li class="chapter-item expanded "><a href="annotations.html">Annotations</a></li><li class="chapter-item expanded "><a href="registeringannotations.html">Registering annotation-based commands</a></li><li class="chapter-item expanded affix "><li class="part-title">Kotlin-based Commands</li><li class="chapter-item expanded "><a href="kotlinintro.html">Kotlin-based commands</a></li><li class="chapter-item expanded "><a href="kotlindsl.html">Using the DSL</a></li><li class="chapter-item expanded affix "><li class="part-title">CommandAPI Utilities</li><li class="chapter-item expanded "><a href="conversion.html">Command conversion</a></li><li class="chapter-item expanded "><a href="reloading.html">Plugin reloading</a></li><li class="chapter-item expanded affix "><li class="part-title">Internal CommandAPI</li><li class="chapter-item expanded "><a href="internal.html">Internal CommandAPI</a></li><li class="chapter-item expanded "><a href="brigadier.html">Brigadier + CommandAPI</a></li><li class="chapter-item expanded "><a href="brigadiersuggestions.html">Brigadier Suggestions</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Java Tips</li><li class="chapter-item expanded "><a href="predicatetips.html">Predicate tips</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">CommandAPI Contribution</li><li class="chapter-item expanded "><a href="contributionintro.html">Introduction</a></li><li class="chapter-item expanded "><a href="projectstructure.html">Project Structure</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><a href="upgrading.html" class="active">Upgrading guide</a></li><li class="chapter-item expanded affix "><a href="faq.html">FAQ</a></li><li class="chapter-item expanded affix "><a href="incompatibleversions.html">Incompatible version information</a></li><li class="chapter-item expanded affix "><a href="troubleshooting.html">Troubleshooting</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><a href="afterword.html">Afterword</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fas fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fas fa-palette"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="skepter">Skepter Likes Purple</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">CommandAPI Documentation v8.8.0</h1>

                    <div class="right-buttons">
                        <a href="https://www.jorel.dev/CommandAPI/" title="Back to main CommandAPI page" aria-label="Back to main CommandAPI page">
                            <i id="home-button" class="fas fa-home"></i>
                        </a>
                        <a href="https://ko-fi.com/jorelali" title="Donate (ko-fi)" aria-label="Donate (ko-fi)">
                            <i id="donate-button" class="fas fa-donate"></i>
                        </a>
                        <a href="https://discord.com/invite/G4SzSxZ" title="Discord" aria-label="Discord">
                            <i id="discord-button" class="fab fa-discord"></i>
                        </a>
                        <a href="https://github.com/JorelAli/CommandAPI" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fab fa-github"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <!-- Page table of contents -->
                        <div class="sidetoc"><nav class="pagetoc"></nav></div>
                        
                        <h1 id="upgrading-guide"><a class="header" href="#upgrading-guide">Upgrading guide</a></h1>
<h2 id="from-860-to-870"><a class="header" href="#from-860-to-870">From 8.6.0 to 8.7.0</a></h2>
<h3 id="sound-arguments"><a class="header" href="#sound-arguments">Sound arguments</a></h3>
<p>This update introduces a backwards-incompatible change to the <code>SoundArgument</code> which was introduced in 8.6.0. SoundArguments no longer need a generic type parameter:</p>
<div class="multi-pre">
<pre><code class="language-java 8.6.0">new SoundArgument&lt;Sound&gt;(&quot;sound&quot;)
</code></pre>
</div>
<p>\[\downarrow\]</p>
<div class="multi-pre">
<pre><code class="language-java 8.7.0">new SoundArgument(&quot;sound&quot;)
</code></pre>
</div>
<p><code>NamespacedKey</code> SoundArguments no longer need a <code>SoundType</code> parameter, instead the <code>NamespacedKey</code> constructor should be used:</p>
<div class="multi-pre">
<pre><code class="language-java 8.6.0">new SoundArgument&lt;NamespacedKey&gt;(&quot;sound&quot;, SoundType.NAMESPACED_KEY)
</code></pre>
</div>
<p>\[\downarrow\]</p>
<div class="multi-pre">
<pre><code class="language-java 8.7.0">new SoundArgument.NamespacedKey(&quot;sound&quot;)
</code></pre>
</div>
<h3 id="entity-selector-arguments"><a class="header" href="#entity-selector-arguments">Entity selector arguments</a></h3>
<p>Entity selector arguments no longer need a generic type parameter or a <code>EntitySelector</code> parameter. Instead, the corresponding constructor should be used instead:</p>
<div class="multi-pre">
<pre><code class="language-java 8.6.0">new EntitySelectorArgument&lt;Player&gt;(&quot;target&quot;, EntitySelector.ONE_PLAYER)
new EntitySelectorArgument&lt;Collection&lt;Player&gt;&gt;(&quot;target&quot;, EntitySelector.MANY_PLAYERS)

new EntitySelectorArgument&lt;Entity&gt;(&quot;target&quot;, EntitySelector.ONE_ENTITY)
new EntitySelectorArgument&lt;Collection&lt;Entity&gt;&gt;(&quot;target&quot;, EntitySelector.MANY_ENTITIES)
</code></pre>
</div>
<p>\[\downarrow\]</p>
<div class="multi-pre">
<pre><code class="language-java 8.7.0">new EntitySelectorArgument.OnePlayer(&quot;target&quot;)
new EntitySelectorArgument.ManyPlayers(&quot;target&quot;)

new EntitySelectorArgument.OneEntity(&quot;target&quot;)
new EntitySelectorArgument.ManyEntities(&quot;target&quot;)
</code></pre>
</div>
<h3 id="scoreholder-arguments"><a class="header" href="#scoreholder-arguments">Scoreholder arguments</a></h3>
<p>The <code>ScoreHolderArgument</code> no longer needs a generic type parameter or a <code>ScoreHolderType</code> parameter. Instead, the corresponding constructor should be used instead:</p>
<div class="multi-pre">
<pre><code class="language-java 8.6.0">new ScoreHolderArgument&lt;String&gt;(nodeName, ScoreHolderType.SINGLE);
new ScoreHolderArgument&lt;Collection&lt;String&gt;&gt;(nodeName, ScoreHolderType.MULTIPLE);
</code></pre>
</div>
<p>\[\downarrow\]</p>
<div class="multi-pre">
<pre><code class="language-java 8.7.0">new ScoreHolderArgument.Single(nodeName);
new ScoreHolderArgument.Multiple(nodeName);
</code></pre>
</div>
<hr />
<h2 id="from-851-to-860"><a class="header" href="#from-851-to-860">From 8.5.1 to 8.6.0</a></h2>
<h3 id="sound-arguments-1"><a class="header" href="#sound-arguments-1">Sound arguments</a></h3>
<p>In 8.6.0, the <code>SoundArgument</code> now supports returning a <code>Sound</code> or <code>NamespacedKey</code> object. More information on how to use this can be found in the <a href="./soundargument.html">Sound arguments</a> page. <code>SoundArgument</code> objects now require a generic type parameter to specify what the return type will be (either <code>Sound</code> or <code>NamespacedKey</code>). For the default behaviour, use <code>Sound</code> as the generic type parameter:</p>
<pre><code class="language-java">new SoundArgument(&quot;sound&quot;)
</code></pre>
<p>\[\downarrow\]</p>
<pre><code class="language-java">new SoundArgument&lt;Sound&gt;(&quot;sound&quot;)
</code></pre>
<h3 id="tooltips"><a class="header" href="#tooltips">Tooltips</a></h3>
<p>In 8.6.0, tooltips have been reworked to provide support for Spigot's <code>BaseComponent[]</code>s, and Adventure's <code>Component</code>s. As a result, the default method <code>StringTooltip.of()</code> and <code>Tooltip.of()</code> have been deprecated in favour of the better named <code>StringTooltip.ofString()</code> and <code>Tooltip.ofString()</code> methods:</p>
<pre><code class="language-java">StringTooltip.of(&quot;wave&quot;, &quot;Waves at a player&quot;)

Tooltip.of(player.getWorld().getSpawnLocation(), &quot;World spawn&quot;)
</code></pre>
<p>\[\downarrow\]</p>
<pre><code class="language-java">StringTooltip.ofString(&quot;wave&quot;, &quot;Waves at a player&quot;)

Tooltip.ofString(player.getWorld().getSpawnLocation(), &quot;World spawn&quot;)
</code></pre>
<p>Additionally, the <code>IStringTooltip</code> interface's <code>getTooltip</code> method was changed to return a Brigadier <code>Message</code> object instead of a <code>String</code>. To use the <code>IStringTooltip</code> directly, you now have to add Brigadier to your project's dependencies (info on how to do that can be found <a href="https://github.com/Mojang/brigadier#installation">here</a>).</p>
<p>You can use the <code>Tooltip.messageFromString(String)</code> to easily upgrade to the new <code>Message</code> return type:</p>
<pre><code class="language-java">@Override
public String getTooltip() {
    return this.itemstack.getItemMeta().getLore().get(0);
}
</code></pre>
<p>\[\downarrow\]</p>
<pre><code class="language-java">@Override
public Message getTooltip() {
    return Tooltip.messageFromString(this.itemstack.getItemMeta().getLore().get(0));
}
</code></pre>
<h3 id="command-failures"><a class="header" href="#command-failures">Command failures</a></h3>
<p>To support Spigot's <code>BaseComponent[]</code>s and Adventure's <code>Component</code>s, the <code>CommandAPI.fail()</code> method has now been deprecated in favour of the better named <code>CommandAPI.failWithString()</code> method:</p>
<pre><code class="language-java">throw CommandAPI.fail(&quot;Error message&quot;);
</code></pre>
<p>\[\downarrow\]</p>
<pre><code class="language-java">throw CommandAPI.failWithString(&quot;Error message&quot;);
</code></pre>
<h3 id="list-arguments"><a class="header" href="#list-arguments">List arguments</a></h3>
<p>List arguments can now be implemented using an underlying text argument, instead of requiring it to be a greedy string. This allows you to use multiple lists in a command, in any position. As such, the <code>ListArgumentBuilder.build()</code> method has been deprecated and replaced with <code>ListArgumentBuilder.buildGreedy()</code> instead:</p>
<pre><code class="language-java">new ListArgumentBuilder&lt;Material&gt;(&quot;materials&quot;)
    .withList(List.of(Material.values()))
    .withMapper(material -&gt; material.name().toLowerCase())
    .build();
</code></pre>
<p>\[\downarrow\]</p>
<pre><code class="language-java">new ListArgumentBuilder&lt;Material&gt;(&quot;materials&quot;)
    .withList(List.of(Material.values()))
    .withMapper(material -&gt; material.name().toLowerCase())
    .buildGreedy();
</code></pre>
<hr />
<h2 id="from-850-to-851"><a class="header" href="#from-850-to-851">From 8.5.0 to 8.5.1</a></h2>
<h3 id="brigadier-arguments"><a class="header" href="#brigadier-arguments">Brigadier arguments</a></h3>
<p>In 8.5.1, the methods <code>Brigadier.fromArgument</code> and <code>Brigadier.toSuggestions</code> were changed to use <code>Argument</code> based parameters instead of <code>String</code> based parameters. Instead of providing the node name, you now have to provide the whole argument:</p>
<pre><code class="language-java">Argument&lt;?&gt; myArgument = new StringArgument(&quot;myargument&quot;);
List&lt;Argument&lt;?&gt;&gt; argumentList = List.of(myArgument);

Brigadier.fromArgument(argumentList, &quot;myargument&quot;);
Brigadier.toSuggestions(&quot;myargument&quot;, argumentList);
</code></pre>
<p>\[\downarrow\]</p>
<pre><code class="language-java">Argument&lt;?&gt; myArgument = new StringArgument(&quot;myargument&quot;);
List&lt;Argument&lt;?&gt;&gt; argumentList = List.of(myArgument);

Brigadier.fromArgument(argumentList, myArgument);
Brigadier.toSuggestions(myArgument, argumentList);
</code></pre>
<hr />
<h2 id="from-831-to-840"><a class="header" href="#from-831-to-840">From 8.3.1 to 8.4.0</a></h2>
<h3 id="getting-a-list-of-registered-commands"><a class="header" href="#getting-a-list-of-registered-commands">Getting a list of registered commands</a></h3>
<p>In 8.2.1, the CommandAPI exposed <code>CommandAPIHandler.getInstance().registeredCommands</code> to get a list of registered commands. This has now been changed and properly implemented as a getter method which can be accessed from <code>CommandAPI</code>:</p>
<pre><code class="language-java">CommandAPIHandler.getInstance().registeredCommands
</code></pre>
<p>\[\downarrow\]</p>
<pre><code class="language-java">CommandAPI.getRegisteredCommands()
</code></pre>
<h3 id="entity-selector-arguments-1"><a class="header" href="#entity-selector-arguments-1">Entity selector arguments</a></h3>
<p>The import for <code>EntitySelector</code> for the <code>EntitySelectorArgument</code> has moved to improve CommandAPI shading support with jar minimization:</p>
<pre><code class="language-java">dev.jorel.commandapi.arguments.EntitySelectorArgument.EntitySelector
</code></pre>
<p>\[\downarrow\]</p>
<pre><code class="language-java">dev.jorel.commandapi.arguments.EntitySelector
</code></pre>
<h3 id="custom-arguments"><a class="header" href="#custom-arguments">Custom arguments</a></h3>
<p>Custom arguments are no longer restricted to a string-based argument or a keyed-based argument and can now be implemented over any existing argument &quot;base&quot;. This argument is now parameterized over two types: the first type being the return type of this custom argument and the second type being the return type of the &quot;base&quot; argument. Custom arguments should now use the new constructor that accepts an argument - more information on how to do that can be found on the <a href="./customarguments.html">Custom arguments page</a>. It's recommended to review your implementation of custom arguments and upgrade them if you feel that you need a more powerful argument parser (for example, you might want to use a greedy string argument as the base argument instead of a string argument).</p>
<p>Custom arguments that are <em>not</em> keyed can be drop-in replaced with a <code>StringArgument</code>:</p>
<pre><code class="language-java">new CustomArgument&lt;T&gt;(&quot;nodename&quot;, inputInfo -&gt; {
    // Code here
    return T;
});
</code></pre>
<p>\[\downarrow\]</p>
<pre><code class="language-java">new CustomArgument&lt;T, String&gt;(new StringArgument(&quot;nodename&quot;), inputInfo -&gt; {
    // Code here
    return T;
});
</code></pre>
<p>Keyed custom arguments can be drop-in replaced with a <code>NamespacedKeyArgument</code>:</p>
<pre><code class="language-java">new CustomArgument&lt;T&gt;(&quot;nodename&quot;, inputInfo -&gt; {
    // Code here
    return T;
}, true);
</code></pre>
<p>\[\downarrow\]</p>
<pre><code class="language-java">new CustomArgument&lt;T, NamespacedKey&gt;(new NamespacedKeyArgument(&quot;nodename&quot;), inputInfo -&gt; {
    // Code here
    return T;
});
</code></pre>
<h3 id="nbt-arguments"><a class="header" href="#nbt-arguments">NBT arguments</a></h3>
<p>NBT arguments now have a different implementation if you're using the plugin version of the CommandAPI or shading the CommandAPI.</p>
<p>NBTCompoundArguments are now parameterized over their implemented NBTCompound implementation. For the NBT API, this means:</p>
<pre><code class="language-java">new NBTCompoundArgument(&quot;nbt&quot;);
</code></pre>
<p>\[\downarrow\]</p>
<pre><code class="language-java">new NBTCompoundArgument&lt;NBTContainer&gt;(&quot;nbt&quot;);
</code></pre>
<h4 id="if-youre-using-the-plugin-version-of-the-commandapi"><a class="header" href="#if-youre-using-the-plugin-version-of-the-commandapi">If you're using the plugin version of the CommandAPI</a></h4>
<p>You no longer have to include the NBT API separately, the CommandAPI comes with the NBT API built-in:</p>
<pre><code class="language-java">de.tr7zw.nbtapi.NBTContainer
</code></pre>
<p>\[\downarrow\]</p>
<pre><code class="language-java">dev.jorel.commandapi.nbtapi.NBTContainer
</code></pre>
<h4 id="if-youre-shading-the-commandapi"><a class="header" href="#if-youre-shading-the-commandapi">If you're shading the CommandAPI</a></h4>
<p>You now need to shade the NBT API into your plugin (as well as the CommandAPI). So the CommandAPI knows how to use the underlying implementation of the NBT API, you have to configure it using the <code>CommandAPIConfig.initializeNBTAPI()</code> method in <code>CommandAPI.onLoad()</code>. More information on how to do that can be found on the <a href="./nbtarguments.html#shading-usage-setup">NBT arguments page, under Shading usage setup</a>.</p>
<hr />
<h2 id="from-800-or-earlier-to-810"><a class="header" href="#from-800-or-earlier-to-810">From 8.0.0 or earlier to 8.1.0</a></h2>
<p>Arguments are now parameterized over a generic type. This does very little in terms of the running of the CommandAPI, but does ensure type safety with its internals. Instances of the <code>Argument</code> type now have to be parameterized. In general, this basically means:</p>
<pre><code class="language-java">Argument myArgument = new GreedyStringArgument(&quot;arg&quot;);
</code></pre>
<p>\[\downarrow\]</p>
<pre><code class="language-java">Argument&lt;?&gt; myArgument = new GreedyStringArgument(&quot;arg&quot;);
</code></pre>
<p>Arguments that have multiple return types also need to be parameterized over their return type. This includes:</p>
<ul>
<li><code>CustomArgument</code></li>
<li><code>EntitySelectorArgument</code></li>
<li><code>ScoreholderArgument</code></li>
</ul>
<p>For example:</p>
<pre><code class="language-java">new EntitySelectorArgument(&quot;target&quot;, EntitySelector.ONE_PLAYER);
</code></pre>
<p>\[\downarrow\]</p>
<pre><code class="language-java">new EntitySelectorArgument&lt;Player&gt;(&quot;target&quot;, EntitySelector.ONE_PLAYER);
</code></pre>
<hr />
<h2 id="from-version-700-to-800"><a class="header" href="#from-version-700-to-800">From version 7.0.0 to 8.0.0</a></h2>
<h3 id="particle-arguments"><a class="header" href="#particle-arguments">Particle arguments</a></h3>
<p>Particle arguments no longer return Bukkit's <code>org.bukkit.Particle</code> enum, but now return a wrapper <code>dev.jorel.commandapi.wrappers.ParticleData</code> instead. More information about this wrapper class and how to use it can be found on the <a href="./particlearguments.html">particle arguments page</a>. To update, change any <code>Particle</code> casts into a <code>ParticleData</code> cast instead:</p>
<pre><code class="language-java">new CommandAPICommand(&quot;mycommand&quot;)
    .withArgument(new ParticleArgument(&quot;particle&quot;))
    .executes((sender, args) -&gt; {
        Particle particle = (Particle) args[0];
        // Do stuff with particle
    })
    .register();
</code></pre>
<p>\[\downarrow\]</p>
<pre><code class="language-java">new CommandAPICommand(&quot;mycommand&quot;)
    .withArgument(new ParticleArgument(&quot;particle&quot;))
    .executes((sender, args) -&gt; {
        ParticleData particleData = (ParticleData) args[0];

        Particle particle = particleData.particle();
        Object data = particleData.data();

        // Do stuff with particle and data
    })
    .register();
</code></pre>
<hr />
<h2 id="from-version-652-to-700"><a class="header" href="#from-version-652-to-700">From version 6.5.2 to 7.0.0</a></h2>
<h3 id="maven-repository"><a class="header" href="#maven-repository">Maven repository</a></h3>
<p>The Maven repository used to serve the CommandAPI has changed from JitPack.io to Maven Central. For Maven projects, you no longer require wan explicit <code>&lt;repository&gt;</code> entry for the CommandAPI. for Gradle projects, you need to ensure <code>mavenCentral()</code> in present in your <code>repositories</code> section.</p>
<p><strong>The group ID has changed from <code>dev.jorel.CommandAPI</code> to <code>dev.jorel</code></strong></p>
<p>More information about setting up your development environment can be found in <a href="./quickstart.html">Setting up your development environment</a>.</p>
<h3 id="commandapi-command-failures"><a class="header" href="#commandapi-command-failures">CommandAPI command failures</a></h3>
<p>The <code>CommandAPI.fail()</code> no longer automatically throws the exception that it creates, and instead now requires you to manually throw the exception yourself. This improves upon invalid states in command executors and allows invalid states to be identified more easily at compile time. To update, simply add the <code>throw</code> keyword before you call <code>CommandAPI.fail()</code>:</p>
<pre><code class="language-java">new CommandAPICommand(&quot;mycommand&quot;)
    .executes((sender, args) -&gt; {
        if(!sender.hasPermission(&quot;some.permission&quot;)) {
            CommandAPI.fail(&quot;You don't have permission to run /mycommand!&quot;);
            return;
        }
        sender.sendMessage(&quot;Hello!&quot;);
    })
</code></pre>
<p>\[\downarrow\]</p>
<pre><code class="language-java">new CommandAPICommand(&quot;mycommand&quot;)
    .executes((sender, args) -&gt; {
        if(!sender.hasPermission(&quot;some.permission&quot;)) {
            throw CommandAPI.fail(&quot;You don't have permission to run /mycommand!&quot;);
        }
        sender.sendMessage(&quot;Hello!&quot;);
    })
</code></pre>
<h3 id="suggestions"><a class="header" href="#suggestions">Suggestions</a></h3>
<p>Suggestions have been overhauled and no longer take in a <code>Function&lt;SuggestionsInfo, String[]&gt;</code> anymore. Instead, they now take in a <code>ArgumentSuggestions</code> object which represents argument suggestions (and whether they are executed asynchronously or have tooltips).</p>
<h4 id="normal-string-suggestions"><a class="header" href="#normal-string-suggestions">Normal (string) suggestions</a></h4>
<p>These normal suggestions methods have been replaced with an <code>ArgumentSuggestions</code> parameter instead of a function:</p>
<pre><code class="language-java">Argument replaceSuggestions(Function&lt;SuggestionInfo, String[]&gt; suggestions);
Argument includeSuggestions(Function&lt;SuggestionInfo, String[]&gt; suggestions);
</code></pre>
<p>\[\downarrow\]</p>
<pre><code class="language-java">Argument replaceSuggestions(ArgumentSuggestions suggestions);
Argument includeSuggestions(ArgumentSuggestions suggestions);
</code></pre>
<p>The same functionality can be reproduced by wrapping your existing functions in <code>ArgumentSuggestions.strings</code>:</p>
<pre><code class="language-java">List&lt;Argument&gt; arguments = new ArrayList&lt;&gt;();
arguments.add(new StringArgument(&quot;world&quot;).replaceSuggestions(info -&gt; 
    new String[] {&quot;northland&quot;, &quot;eastland&quot;, &quot;southland&quot;, &quot;westland&quot; }
));
</code></pre>
<p>\[\downarrow\]</p>
<pre><code class="language-java">List&lt;Argument&gt; arguments = new ArrayList&lt;&gt;();
arguments.add(new StringArgument(&quot;world&quot;).replaceSuggestions(ArgumentSuggestions.strings(info -&gt; 
    new String[] {&quot;northland&quot;, &quot;eastland&quot;, &quot;southland&quot;, &quot;westland&quot; }
)));
</code></pre>
<h4 id="normal-strings-with-tooltips-suggestions"><a class="header" href="#normal-strings-with-tooltips-suggestions">Normal (strings with tooltips) suggestions</a></h4>
<p>The <code>...T()</code> methods have been replaced with the normal methods above, and can use the <code>ArgumentSuggestions.stringsWithTooltips</code> method:</p>
<pre><code class="language-java">Argument replaceSuggestionsT(Function&lt;SuggestionInfo, IStringTooltip[]&gt; suggestions);
Argument includeSuggestionsT(Function&lt;SuggestionInfo, IStringTooltip[]&gt; suggestions);
</code></pre>
<p>\[\downarrow\]</p>
<pre><code class="language-java">Argument replaceSuggestions(ArgumentSuggestions suggestions);
Argument includeSuggestions(ArgumentSuggestions suggestions);
</code></pre>
<p>For example:</p>
<pre><code class="language-java">List&lt;Argument&gt; arguments = new ArrayList&lt;&gt;();
arguments.add(new StringArgument(&quot;emote&quot;)
    .replaceSuggestionsT( info -&gt; new IStringTooltip[] {
            StringTooltip.of(&quot;wave&quot;, &quot;Waves at a player&quot;),
            StringTooltip.of(&quot;hug&quot;, &quot;Gives a player a hug&quot;),
            StringTooltip.of(&quot;glare&quot;, &quot;Gives a player the death glare&quot;)
        }
    )
);
</code></pre>
<p>\[\downarrow\]</p>
<pre><code class="language-java">List&lt;Argument&gt; arguments = new ArrayList&lt;&gt;();
arguments.add(new StringArgument(&quot;emote&quot;)
    .replaceSuggestions(ArgumentSuggestions.stringsWithTooltips(info -&gt; new IStringTooltip[] {
            StringTooltip.of(&quot;wave&quot;, &quot;Waves at a player&quot;),
            StringTooltip.of(&quot;hug&quot;, &quot;Gives a player a hug&quot;),
            StringTooltip.of(&quot;glare&quot;, &quot;Gives a player the death glare&quot;)
        }
    ))
);
</code></pre>
<h4 id="safe-suggestions"><a class="header" href="#safe-suggestions">Safe suggestions</a></h4>
<p>Similar to above with normal suggestions, safe suggestions have been replaced with <code>replaceSafeSuggestions</code> and <code>includeSafeSuggestions</code> respectively:</p>
<pre><code class="language-java">Argument replaceWithSafeSuggestions(Function&lt;SuggestionInfo, S[]&gt; suggestions);
Argument includeWithSafeSuggestions(Function&lt;SuggestionInfo, S[]&gt; suggestions);
</code></pre>
<p>\[\downarrow\]</p>
<pre><code class="language-java">Argument replaceSafeSuggestions(SafeSuggestions&lt;T&gt; suggestions);
Argument includeSafeSuggestions(SafeSuggestions&lt;T&gt; suggestions);
</code></pre>
<p>These can be used with the <code>SafeSuggestions.suggest</code> and <code>SafeSuggestions.tooltips</code> methods to wrap existing functions. For example:</p>
<pre><code class="language-java">List&lt;Argument&gt; arguments = new ArrayList&lt;&gt;();
arguments.add(new RecipeArgument(&quot;recipe&quot;).replaceWithSafeSuggestions(info -&gt; 
    new Recipe[] { emeraldSwordRecipe, /* Other recipes here */ }
));
</code></pre>
<p>\[\downarrow\]</p>
<pre><code class="language-java">List&lt;Argument&gt; arguments = new ArrayList&lt;&gt;();
arguments.add(new RecipeArgument(&quot;recipe&quot;).replaceSafeSuggestions(SafeSuggestions.suggest(info -&gt; 
    new Recipe[] { emeraldSwordRecipe, /* Other recipes here */ }
)));
</code></pre>
<hr />
<h2 id="from-version-620-or-earlier-to-630"><a class="header" href="#from-version-620-or-earlier-to-630">From version 6.2.0 or earlier to 6.3.0</a></h2>
<p>Please refer to an older version of the documentation. This has been omitted to save space and reduce confusion in this upgrading section.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="projectstructure.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fas fa-chevron-left"></i>
                            </a>
                            <a rel="next" href="faq.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fas fa-chevron-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="projectstructure.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fas fa-chevron-left"></i>
                    </a>
                    <a rel="next" href="faq.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fas fa-chevron-right"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript" src="sidebar.js"></script>
        <script type="text/javascript" src="mccmd.js"></script>
        <script type="text/javascript" src="kotlin-dsl.js"></script>
        <script type="text/javascript" src="jszip.min.js"></script>
        <script type="text/javascript" src="yaml.min.js"></script>
        <script type="text/javascript" src="pluginyml.js"></script>
    </body>
</html>
