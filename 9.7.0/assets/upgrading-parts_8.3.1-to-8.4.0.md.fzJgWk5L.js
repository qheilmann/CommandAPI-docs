import{_ as o,C as p,c as r,o as l,G as t,am as h,j as a,w as n,a as i}from"./chunks/framework.DAr4A1sI.js";const f=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"upgrading-parts/8.3.1-to-8.4.0.md","filePath":"en/upgrading-parts/8.3.1-to-8.4.0.md","lastUpdated":1742050500000}'),d={name:"upgrading-parts/8.3.1-to-8.4.0.md"};function g(k,s,m,u,E,c){const e=p("TitleAnchor");return l(),r("div",null,[t(e,{anchor:"getting-a-list-of-registered-commands"},{default:n(()=>s[0]||(s[0]=[a("h3",{id:"getting-a-list-of-registered-commands",tabindex:"-1"},[i("Getting a list of registered commands "),a("a",{class:"header-anchor",href:"#getting-a-list-of-registered-commands","aria-label":'Permalink to "Getting a list of registered commands"'},"​")],-1)])),_:1}),s[6]||(s[6]=h(`<p>In 8.2.1, the CommandAPI exposed <code>CommandAPIHandler.getInstance().registeredCommands</code> to get a list of registered commands. This has now been changed and properly implemented as a getter method which can be accessed from <code>CommandAPI</code>:</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark has-diff vp-code" tabindex="0"><code><span class="line diff remove"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CommandAPIHandler.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getInstance</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().registeredCommands </span></span>
<span class="line"></span>
<span class="line diff add"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CommandAPI.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getRegisteredCommands</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span></span></code></pre></div>`,2)),t(e,{anchor:"entity-selector-arguments"},{default:n(()=>s[1]||(s[1]=[a("h3",{id:"entity-selector-arguments",tabindex:"-1"},[i("Entity selector arguments "),a("a",{class:"header-anchor",href:"#entity-selector-arguments","aria-label":'Permalink to "Entity selector arguments"'},"​")],-1)])),_:1}),s[7]||(s[7]=h(`<p>The import for <code>EntitySelector</code> for the <code>EntitySelectorArgument</code> has moved to improve CommandAPI shading support with jar minimization:</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark has-diff vp-code" tabindex="0"><code><span class="line diff remove"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">dev.jorel.commandapi.arguments.EntitySelectorArgument.EntitySelector </span></span>
<span class="line"></span>
<span class="line diff add"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">dev.jorel.commandapi.arguments.EntitySelector </span></span></code></pre></div>`,2)),t(e,{anchor:"custom-arguments"},{default:n(()=>s[2]||(s[2]=[a("h3",{id:"custom-arguments",tabindex:"-1"},[i("Custom arguments "),a("a",{class:"header-anchor",href:"#custom-arguments","aria-label":'Permalink to "Custom arguments"'},"​")],-1)])),_:1}),s[8]||(s[8]=h(`<p>Custom arguments are no longer restricted to a string-based argument or a keyed-based argument and can now be implemented over any existing argument &quot;base&quot;. This argument is now parameterized over two types: the first type being the return type of this custom argument and the second type being the return type of the &quot;base&quot; argument. Custom arguments should now use the new constructor that accepts an argument - more information on how to do that can be found on the <a href="./../create-commands/arguments/types/custom-arguments">Custom arguments page</a>. It&#39;s recommended to review your implementation of custom arguments and upgrade them if you feel that you need a more powerful argument parser (for example, you might want to use a greedy string argument as the base argument instead of a string argument).</p><p>Custom arguments that are <em>not</em> keyed can be drop-in replaced with a <code>StringArgument</code>:</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark has-diff vp-code" tabindex="0"><code><span class="line diff remove"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> CustomArgument&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;nodename&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, inputInfo </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span></span>
<span class="line diff add"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> CustomArgument&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> StringArgument</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;nodename&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), inputInfo </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Code here</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> T;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><p>Keyed custom arguments can be drop-in replaced with a <code>NamespacedKeyArgument</code>:</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark has-diff vp-code" tabindex="0"><code><span class="line diff remove"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> CustomArgument&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;nodename&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, inputInfo </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span></span>
<span class="line diff add"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> CustomArgument&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">NamespacedKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> NamespacedKeyArgument</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;nodename&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), inputInfo </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Code here</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> T;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div>`,5)),t(e,{anchor:"nbt-arguments"},{default:n(()=>s[3]||(s[3]=[a("h3",{id:"nbt-arguments",tabindex:"-1"},[i("NBT arguments "),a("a",{class:"header-anchor",href:"#nbt-arguments","aria-label":'Permalink to "NBT arguments"'},"​")],-1)])),_:1}),s[9]||(s[9]=h(`<p>NBT arguments now have a different implementation if you&#39;re using the plugin version of the CommandAPI or shading the CommandAPI.</p><p>NBTCompoundArguments are now parameterized over their implemented NBTCompound implementation. For the NBT API, this means:</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark has-diff vp-code" tabindex="0"><code><span class="line diff remove"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> NBTCompoundArgument</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;nbt&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span></span>
<span class="line"></span>
<span class="line diff add"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> NBTCompoundArgument&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">NBTContainer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;nbt&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span></span></code></pre></div>`,3)),t(e,{anchor:"if-youre-using-the-plugin-version-of-the-command-api"},{default:n(()=>s[4]||(s[4]=[a("h4",{id:"if-youre-using-the-plugin-version-of-the-command-api",tabindex:"-1"},[i("If you're using the plugin version of the CommandAPI "),a("a",{class:"header-anchor",href:"#if-youre-using-the-plugin-version-of-the-command-api","aria-label":`Permalink to "If you're using the plugin version of the CommandAPI"`},"​")],-1)])),_:1}),s[10]||(s[10]=h(`<p>You no longer have to include the NBT API separately; the CommandAPI comes with the NBT API built-in:</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark has-diff vp-code" tabindex="0"><code><span class="line diff remove"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">de.tr7zw.nbtapi.NBTContainer </span></span>
<span class="line"></span>
<span class="line diff add"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">dev.jorel.commandapi.nbtapi.NBTContainer </span></span></code></pre></div>`,2)),t(e,{anchor:"if-youre-shading-the-command-api"},{default:n(()=>s[5]||(s[5]=[a("h4",{id:"if-youre-shading-the-command-api",tabindex:"-1"},[i("If you're shading the CommandAPI "),a("a",{class:"header-anchor",href:"#if-youre-shading-the-command-api","aria-label":`Permalink to "If you're shading the CommandAPI"`},"​")],-1)])),_:1}),s[11]||(s[11]=a("p",null,[i("You now need to shade the NBT API into your plugin (as well as the CommandAPI). So the CommandAPI knows how to use the underlying implementation of the NBT API, you have to configure it using the "),a("code",null,"CommandAPIConfig.initializeNBTAPI()"),i(" method in "),a("code",null,"CommandAPI.onLoad()"),i(". More information on how to do that can be found on the "),a("a",{href:"./../create-commands/arguments/types/nbt-arguments#shading-usage-setup"},"NBT arguments page, under Shading usage setup"),i(".")],-1))])}const A=o(d,[["render",g]]);export{f as __pageData,A as default};
